<!DOCTYPE html>
<html lang="en">
    
	<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Retrieve and parse XML data using JavaScript &middot; Shivaji Varma</title>

  <!-- Page meta data -->
  <meta name="author" content="Shivaji Varma">
  <meta name="copyright" content="(c) 2016 Shivaji Varma">
  <meta property="og:url" content="http://shivajivarma.com/blog/programming/2014/03/17/retrieve-and-parse-xml-using-javascript/">
  <meta property="og:type" content="website">
  <meta property="og:image" content="http://shivajivarma.com/assets/img/profile.jpg">
  <meta property="og:site_name" content="Shivaji Varma">
  <meta property="fb:admins" content="100002868559363">

  <meta property="og:title" content="Retrieve and parse XML data using JavaScript &middot; Shivaji Varma">
  <meta name="description"  property="og:description" content="Retrieve and parse XML data using JavaScript">
  <meta name="keywords" content="Shivaji Varma, xml, ajax, javascript, retrieve xml, fetch xml, parse xml">

  <!-- RSS ><link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"-->
  <!-- Icons -->
  <link rel="shortcut icon" type="image/png" href="/assets/img/favicon.png">
  <link rel="author" href="https://plus.google.com/108142170241252227550?rel=author">
  <link rel="publisher" href="https://plus.google.com/+ShivajivarmaDotCom">
  <link rel="canonical" href="http://shivajivarma.com/blog/programming/2014/03/17/retrieve-and-parse-xml-using-javascript/">
  <link rel="alternate" type="application/rss+xml" title="Shivaji Varma" href="http://shivajivarma.com/feed.xml">

  <link rel="stylesheet" type="text/css" href="/assets/_bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/assets/_bower_components/bootstrap-material-design/dist/css/ripples.min.css">
<link rel="stylesheet" type="text/css" href="/assets/_bower_components/bootstrap-material-design/dist/css/material-wfont.min.css">
<link rel="stylesheet" type="text/css" href="/assets/_bower_components/prism/themes/prism.css">
<link rel="stylesheet" type="text/css" href="/assets/_bower_components/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/assets/_bower_components/owl-carousel/owl.carousel.css">
<link rel="stylesheet" type="text/css" href="/assets/_bower_components/owl-carousel/owl.theme.css">

<link rel="stylesheet" type="text/css" media="screen" href="/assets/css/main.css">
<link rel="stylesheet" type="text/css" media="screen" href="/assets/css/import.css">


<style type="text/css">
	
</style>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->

<script type="text/javascript" src="/assets/_bower_components/jquery/dist/jquery.js"></script>
<script type="text/javascript" src="/assets/_bower_components/bootstrap/dist/js/bootstrap.js"></script>


</head>

    
	<body id=body itemscope itemtype="http://schema.org/WebPage">
		
<!-- Fixed navbar -->
<header id=header class="navbar navbar-inverse navbar-fixed-top" itemscope itemtype="http://schema.org/WPHeader">
<nav class=container-fluid role=navigation itemscope itemtype="http://schema.org/SiteNavigationElement">
	<div class=navbar-header>
		<button type=button class=navbar-toggle data-toggle="collapse" data-target=".navbar-collapse">
			<span class="sr-only">Toggle navigation</span>
			<span class=icon-bar></span>
			<span class=icon-bar></span>
			<span class=icon-bar></span>
		</button>
		<a class=navbar-brand href="/#body">
			<img alt="" title=Logo src="/assets/img/logo2.png">
		</a>
	</div><!--/.nav-header -->
	<div class="navbar-collapse collapse">
		<ul class="nav navbar-nav">
			<li class="dropdown ">
			  <a href="#" class="dropdown-toggle" data-toggle="dropdown" itemprop=url><i class="fa fa-pencil margin-right-5px"></i><span itemprop=name>Blog</span> <b class="caret"></b></a>
			  <ul class="dropdown-menu">
				<li><a href="/blog/#body" itemprop=url><i class="fa fa-archive margin-right-5px"></i><span itemprop=name>Archives</span></a></li>
				<li><a href="/blog/categories/#body" itemprop=url><i class="fa fa-list margin-right-5px"></i><span itemprop=name>Categaries</span></a></li>
			  </ul>
			</li>
			<li ><a href="/project/#body" itemprop=url><i class="fa fa-code margin-right-5px"></i><span itemprop=name>Projects</span></a></li>
			<li ><a href="/code-base/#body" itemprop=url><i class="fa fa-terminal margin-right-5px"></i><span itemprop=name>Code Base</span></a></li>
		</ul>
		<ul class="nav navbar-nav navbar-right">
			<li ><a href="/about/#body" itemprop=url><span itemprop=name>About</span></a></li>
		</ul>
		<form id=nav-search class="navbar-form navbar-right" action="/search" role="search">
				<div class=input-group>
					<input type="text" class="form-control" title="Search" placeholder="Search" name="q" id="q">
					<div class="input-group-btn">
						<button class="btn btn-default" type="submit"><i class="fa fa-search"></i></button>
					</div>
				</div>
		</form>	
	</div><!--/.nav-collapse -->
</nav>
</header><!--/.navbar -->

<div id="content">
	<ol class="breadcrumb container-fluid margin-10px capitalize  hidden-xs" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope
      itemtype="http://schema.org/ListItem"><a href="/" itemprop="item" title="Home"><span itemprop="name">Home</span></a></li>
  <li itemprop="itemListElement" itemscope
      itemtype="http://schema.org/ListItem"><a href="/blog/" itemprop="item" title="blog"><span itemprop="name">blog</span></a></li>
  <li itemprop="itemListElement" itemscope
      itemtype="http://schema.org/ListItem"><a href="/blog/programming/" itemprop="item" title="programming"><span itemprop="name">programming</span></a></li>
  <li itemprop="itemListElement" itemscope
      itemtype="http://schema.org/ListItem" class="active" title="Retrieve and parse XML data using JavaScript"><span itemprop=name>Retrieve and parse XML data using JavaScript</span></li>
</ol><!-- /.breadcrumb -->
<div class="margin-top-10px  visible-xs"></div>
<article class=container-fluid itemscope itemtype="http://schema.org/Article">
	<h1 class=no-margin itemprop=name>Retrieve and parse XML data using JavaScript</h1>
	<p>
  <small class=text-muted>Posted on March 17, 2014 by <a href="https://plus.google.com/108142170241252227550?rel=author" rel="author"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span  itemprop="name">Shivaji Varma</span></span></a></small>
</p>
	<div class=row>
		<div class=col-md-9>
			<p itemprop=articleBody>Program to fetch XML. And Sample code to demonstrate the process of parsing the XML data. Also look out for <a href="#demo">demo</a> at bottom of this page.</p>
	
<h3>Code</h3>
<pre><code class="language-javascript">/* Function to fetch XML at given path */
function loadXML(xmlpath) {
	var xmlhttp;
	var xmlDoc;
	if (window.XMLHttpRequest) {
		xmlhttp = new XMLHttpRequest();
	} else {
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
	}
	xmlhttp.open("GET", xmlpath, false);
	xmlhttp.send();
	xmlDoc = xmlhttp.responseXML;
	return xmlDoc;
}</code></pre>
<h3>Sample XML parsing implemetaion</h3>
<h4>XML File</h4>
<pre><code class="language-markup">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;students&gt;
  &lt;student id="100026"&gt;
    &lt;name&gt;Joe Average&lt;/name&gt;
    &lt;age&gt;21&lt;/age&gt;
    &lt;major&gt;Biology&lt;/major&gt;
    &lt;results&gt;
      &lt;result course="Math 101" grade="C-"/&gt;
      &lt;result course="Biology 101" grade="C+"/&gt;
      &lt;result course="Statistics 101" grade="D"/&gt;
    &lt;/results&gt;
  &lt;/student&gt;
  &lt;student id="100078"&gt;
    &lt;name&gt;Jack Doe&lt;/name&gt;
    &lt;age&gt;18&lt;/age&gt;
    &lt;major&gt;Physics&lt;/major&gt;
    &lt;major&gt;XML Science&lt;/major&gt;
    &lt;results&gt;
      &lt;result course="Math 101" grade="A"/&gt;
      &lt;result course="XML 101" grade="A-"/&gt;
      &lt;result course="Physics 101" grade="B+"/&gt;
      &lt;result course="XML 102" grade="A"/&gt;
    &lt;/results&gt;
  &lt;/student&gt;
&lt;/students&gt;</code></pre>
<h4>JS Code</h4>
<pre><code class="language-javascript">/* Sample code to fecth and parse below XML. */

xml = loadXML("/assets/xml/students.xml");
$(document).ready(funtion(){
	parseXML(xml);
});

function parseXML(xml) {
	$(xml).find('student').each(function(){
        console.log('/*************************************/');
        console.log('ID: '+$(this).attr('id'));
        console.log('Name: '+$(this).find('name').text());
        console.log('Age: '+$(this).find('age').text());
        
            $(this).find('major').each(function(){
               console.log('Major: '+$(this).text());
            });
    
			$(this).find('results').find('result').each(function(){
                console.log('Result:\n\t Course: '+$(this).attr('course')+'\n\t Grade: '+$(this).attr('grade'));
            });
        
		console.log('/*************************************/');
        
	});
}</code></pre>
<h3>Demo<a name="demo" id="demo" class="anchor"></a></h3>
	<div>
		<form role="form" name="SumCalculator">
			<p>
				<a id="xmlBtn" data-state="fetch" class="btn btn-default btn-sm" href="javascript:void(0)"><span>Fetch</span> <i class="fa fa-cog"></i></a><i class="fa fa-hand-o-left margin-left-10px margin-right-10px"></i><span class="note">Click here to fetch XML</span>
			</p>
		</form>
	</div>
	<div class="output">
	<div class="data"></div>
	</div>
<script type="text/javascript">
var xml;
var xmlpath = "/assets/xml/students.xml";
var backup={};
$('#xmlBtn').click(function(){
	if($(this).attr("data-state") == "fetch"){
	    backup.output = $('.output').html();
		backup.btn = $(this).html();
		$('.output').append('<pre><code class="language-markup"></code></pre>');
		$('#xmlBtn .fa').addClass('fa-spin');
		xml = loadXML(xmlpath);
		loadText(xmlpath);
		$('.note').html('Fetched successfully. Reclick to parse the data.');
	}else if($(this).attr("data-state") == "parse"){
		$(xml).find('student').each(function(){
				$('.output .data').append('<div class="panel panel-primary"><div class="panel-heading">ID: '+$(this).attr('id')+'</div><div class="panel-body"><p>Name: '+$(this).find('name').text()+'</p><p>Age: '+$(this).find('age').text()+'</p></div></div>');
				
		});
		$(this).children('span').html('Parse more');
		$(this).attr("data-state","more");
		$('.note').html("Student's name and age are parsed. Reclick to parse more the data.");
	}else if($(this).attr("data-state") == "more"){
		$(xml).find('student').each(function(i,data){
				$(this).find('major').each(function(){
					$('.output .data .panel-body:eq('+i+')').append('<p>Major: '+$(this).text()+'</p>');
				});
				$(this).find('results').find('result').each(function(){
					$('.output .data .panel-body:eq('+i+')').append('<p>Result:<br>&nbsp;&nbsp; Course: '+$(this).attr('course')+'<br>&nbsp;&nbsp; Grade: '+$(this).attr('grade')+'</p>');
				});
		});
		$(this).html('Try again');
		$(this).attr("data-state","end");
		$('.note').html("Now each student's full details are parsed");
	}else if($(this).attr("data-state") == "end"){
		$(this).html(backup.btn);
		$('.output').html(backup.output);
		$(this).attr("data-state","fetch");
		$('.note').html("Click here to fetch XML");
	}
});

function loadXML(xmlpath) {
	var xmlhttp;
	var xmlDoc;
	if (window.XMLHttpRequest) {
		xmlhttp = new XMLHttpRequest();
	} else {
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
	}
	xmlhttp.open("GET", xmlpath, false);
	xmlhttp.send();
	xmlDoc = xmlhttp.responseXML;
	
	$('#xmlBtn').attr('data-state','parse').children('span').html('Parse the data');
	return xmlDoc;
}
	
function loadText(filepath){
	$.ajax({
		url : filepath,
		dataType: "text",
		success : function (data) {
			$('.output code').text(data);
			Prism.highlightAll();
		}
    });
}
</script>
			<ul class=pager> 
			
			
				<li class="previous">
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
						<a href="/blog/music/2014/02/28/naruto-theme/" title="Previous Post: Naruto Theme">Previous</a>
						 
				</li> 
				
				
				<li class="next"> 
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
					
				
				
				
					
						<a href="/blog/music/2014/03/23/let-it-go-frozen/" title="Previous Post: Disney's Frozen [Let It Go] Sequence Performed by Idina Menzel">Next</a>
						 
				</li>
			</ul>
		</div>
		<div class=col-md-3>
			<div class="ads padding-5px">
	
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- Responsive -->
	<ins class="adsbygoogle"
		 style="display:block"
		 data-ad-client="ca-pub-3120721550776061"
		 data-ad-slot="8584695641"
		 data-ad-format="auto"></ins>
	<script>
	(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
	
</div>
		</div>
	</div>
</article>
<!-- comments -->
<div id="comments" class="container-fluid margin-bottom-10px">
<div id="disqus_thread"></div>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="#" class="dsq-brlink">loading comments...</a>
</div>
	<div id="push"></div>
</div>
<div id="footer" class="border-top">  
  <footer class="container-fluid" itemscope itemtype="http://schema.org/WPFooter">
    <p class=back-to-top><a href="#body"><i class="fa fa-angle-up font-32px"></i></a></p>
    <p>
		ALL WORKS &copy; 2016 <a target="_blank" href="https://plus.google.com/108142170241252227550?rel=author" rel="author">SHIVAJI VARMA</a> &middot; <a href="/privacy">PRIVACY</a> &middot; <a href="#body">TERMS</a> &middot; <a href="/LICENSE">LICENSE</a>
	</p>
    <p class=no-margin>
		Based on <a target="_blank" href="http://getbootstrap.com">Bootstrap</a>. 
		Web fonts from <a target="_blank" href="http://www.google.com/webfonts">Google</a>. 
		View source on <a target="_blank" href="http://github.com/shivajivarma/shivajivarma.github.io">Github</a>
	</p>
  </footer>
</div><!-- /#footer -->
<!-- build:js(app) /assets/js/main.js -->
<script src="/assets/_bower_components/bootstrap-material-design/dist/js/ripples.min.js"></script>
<script src="/assets/_bower_components/bootstrap-material-design/dist/js/material.min.js"></script>
<script type="text/javascript" src="/assets/_bower_components/prism/prism.js"></script>
<script type="text/javascript" src="/assets/_bower_components/prism/components/prism-c.min.js"></script>
<script type="text/javascript" src="/assets/_bower_components/prism/components/prism-python.min.js"></script>
<script type="text/javascript" src="/assets/_bower_components/prism/components/prism-sql.min.js"></script>
<script type="text/javascript" src="/assets/_bower_components/owl-carousel/owl.carousel.js"></script>
<script src="/assets/js/main.js"></script>
<!-- endbuild -->
<script type="text/javascript">
	
</script>







<!--DISQUS COMMENTS-->
<script type="text/javascript">
	var disqus_shortname = 'shivajivarma'; // required: replace example with your forum shortname
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script><!--/DISQUS COMMENTS-->

	<!--GOOGLE ANALYTICS CODE-->
<script type="text/javascript">
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-42422649-1', 'shivajivarma.com');
 ga('send', 'pageview');
</script><!--/GOOGLE ANALYTICS CODE-->
	</body>
</html>