<!DOCTYPE html> <html lang="en"> <head> <meta charset='utf-8'> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Retrieve and parse XML data using JavaScript &middot; Shivaji Varma</title> <meta name="author" content="Shivaji Varma"> <meta name="copyright" content="(c) 2018 Shivaji Varma"> <meta property="og:url" content="http://shivajivarma.com/blog/programming/2014/03/17/retrieve-and-parse-xml-using-javascript/"> <meta property="og:type" content="website"> <meta property="og:image" content="http://shivajivarma.com/assets/img/profile.jpg"> <meta property="og:site_name" content="Shivaji Varma"> <meta property="fb:admins" content="100002868559363"> <meta property="og:title" content="Retrieve and parse XML data using JavaScript &middot; Shivaji Varma"> <meta name="description" property="og:description" content="Retrieve and parse XML data using JavaScript"> <meta name="keywords" content="Shivaji Varma, xml, ajax, javascript, retrieve xml, fetch xml, parse xml"> <link rel="shortcut icon" type="image/png" href="/assets/img/favicon.png"> <link rel="author" href="https://plus.google.com/108142170241252227550?rel=author"> <link rel="publisher" href="https://plus.google.com/+ShivajivarmaDotCom"> <link rel="canonical" href="http://shivajivarma.com/blog/programming/2014/03/17/retrieve-and-parse-xml-using-javascript/"> <link rel="alternate" type="application/rss+xml" title="Shivaji Varma" href="http://shivajivarma.com/feed.xml"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css" integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="/assets/bower_components/prism/themes/prism.css"> <link rel="stylesheet" type="text/css" href="/assets/bower_components/font-awesome/css/font-awesome.min.css"> <link rel="stylesheet" type="text/css" href="/assets/bower_components/owl-carousel/owl.carousel.css"> <link rel="stylesheet" type="text/css" href="/assets/bower_components/owl-carousel/owl.theme.css"> <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/main.css"> <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/import.css"> <style type="text/css"> </style> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--> <script type="text/javascript" src="/assets/bower_components/jquery/dist/jquery.min.js"></script> <script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js" integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U" crossorigin="anonymous"></script> <script src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js" integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9" crossorigin="anonymous"></script> </head> <body id=body itemscope itemtype="http://schema.org/WebPage"> <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5BRS3L" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <script>!function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a),s="dataLayer"!=n?"&l="+n:"";m.async=!0,m.src="//www.googletagmanager.com/gtm.js?id="+r+s,g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer","GTM-5BRS3L");</script> <header id=header itemscope itemtype="http://schema.org/WPHeader"> <nav class="navbar navbar-expand-lg navbar-dark"> <a class="navbar-brand" href="/#body"> <img src="/assets/img/logo2.png" height="30" class="d-inline-block align-top" alt=""> </a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <div class="collapse navbar-collapse" id="navbarTogglerDemo02"> <ul class="navbar-nav mr-auto mt-2 mt-lg-0"> <li class="nav-item "> <a class="nav-link" href="/blog/#body" itemprop=url> <i class="fa fa-pencil margin-right-5px"></i> <span itemprop=name>Blog</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/project/#body" itemprop=url> <i class="fa fa-code margin-right-5px"></i> <span itemprop=name>Projects</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/code-base/#body" itemprop=url> <i class="fa fa-terminal margin-right-5px"></i> <span itemprop=name>Code Base</span> </a> </li> </ul> <form class="form-inline my-2 my-lg-0" action="/search/" role="search"> <input class="form-control mr-sm-2" type="text" placeholder="Search" name="q" id="q"> <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button> </form> </div> </nav> </header> <div id="content"> <nav aria-label="breadcrumb" class="d-none d-sm-block"> <ol class="breadcrumb capitalize" itemscope itemtype="http://schema.org/BreadcrumbList"> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="/" itemprop="item" title="Home"><span itemprop="name">Home</span></a></li> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="/blog/" itemprop="item" title="blog"><span itemprop="name">blog</span></a></li> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="/blog/programming/" itemprop="item" title="programming"><span itemprop="name">programming</span></a></li> <li class="breadcrumb-item active" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem" class="active" title="Retrieve and parse XML data using JavaScript"><span itemprop=name>Retrieve and parse XML data using JavaScript</span></li> </ol> </nav> <div class="margin-top-10px visible-xs"></div> <article class=container-fluid itemscope itemtype="http://schema.org/Article"> <h1 class=no-margin itemprop=name>Retrieve and parse XML data using JavaScript</h1> <p> <small class=text-muted>Posted on March 17, 2014 by <a href="https://plus.google.com/108142170241252227550?rel=author" rel="author"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Shivaji Varma</span></span></a></small> </p> <div class=row> <div class=col-md-9> <p itemprop=articleBody>Program to fetch XML. And Sample code to demonstrate the process of parsing the XML data. Also look out for <a href="#demo">demo</a> at bottom of this page.</p> <h3>Code</h3> <pre><code class="language-javascript">/* Function to fetch XML at given path */
function loadXML(xmlpath) {
	var xmlhttp;
	var xmlDoc;
	if (window.XMLHttpRequest) {
		xmlhttp = new XMLHttpRequest();
	} else {
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
	}
	xmlhttp.open("GET", xmlpath, false);
	xmlhttp.send();
	xmlDoc = xmlhttp.responseXML;
	return xmlDoc;
}</code></pre> <h3>Sample XML parsing implemetaion</h3> <h4>XML File</h4> <pre><code class="language-markup">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;students&gt;
  &lt;student id="100026"&gt;
    &lt;name&gt;Joe Average&lt;/name&gt;
    &lt;age&gt;21&lt;/age&gt;
    &lt;major&gt;Biology&lt;/major&gt;
    &lt;results&gt;
      &lt;result course="Math 101" grade="C-"/&gt;
      &lt;result course="Biology 101" grade="C+"/&gt;
      &lt;result course="Statistics 101" grade="D"/&gt;
    &lt;/results&gt;
  &lt;/student&gt;
  &lt;student id="100078"&gt;
    &lt;name&gt;Jack Doe&lt;/name&gt;
    &lt;age&gt;18&lt;/age&gt;
    &lt;major&gt;Physics&lt;/major&gt;
    &lt;major&gt;XML Science&lt;/major&gt;
    &lt;results&gt;
      &lt;result course="Math 101" grade="A"/&gt;
      &lt;result course="XML 101" grade="A-"/&gt;
      &lt;result course="Physics 101" grade="B+"/&gt;
      &lt;result course="XML 102" grade="A"/&gt;
    &lt;/results&gt;
  &lt;/student&gt;
&lt;/students&gt;</code></pre> <h4>JS Code</h4> <pre><code class="language-javascript">/* Sample code to fecth and parse below XML. */

xml = loadXML("/assets/xml/students.xml");
$(document).ready(funtion(){
	parseXML(xml);
});

function parseXML(xml) {
	$(xml).find('student').each(function(){
        console.log('/*************************************/');
        console.log('ID: '+$(this).attr('id'));
        console.log('Name: '+$(this).find('name').text());
        console.log('Age: '+$(this).find('age').text());
        
            $(this).find('major').each(function(){
               console.log('Major: '+$(this).text());
            });
    
			$(this).find('results').find('result').each(function(){
                console.log('Result:\n\t Course: '+$(this).attr('course')+'\n\t Grade: '+$(this).attr('grade'));
            });
        
		console.log('/*************************************/');
        
	});
}</code></pre> <h3>Demo<a name="demo" id="demo" class="anchor"></a></h3> <div> <form role="form" name="SumCalculator"> <p> <a id="xmlBtn" data-state="fetch" class="btn btn-default btn-sm" href="javascript:void(0)"><span>Fetch</span> <i class="fa fa-cog"></i></a><i class="fa fa-hand-o-left margin-left-10px margin-right-10px"></i><span class="note">Click here to fetch XML</span> </p> </form> </div> <div class="output"> <div class="data"></div> </div> <script type="text/javascript">function loadXML(t){var a,e;return a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a.open("GET",t,!1),a.send(),e=a.responseXML,$("#xmlBtn").attr("data-state","parse").children("span").html("Parse the data"),e}function loadText(t){$.ajax({url:t,dataType:"text",success:function(t){$(".output code").text(t),Prism.highlightAll()}})}var xml,xmlpath="/assets/xml/students.xml",backup={};$("#xmlBtn").click(function(){"fetch"==$(this).attr("data-state")?(backup.output=$(".output").html(),backup.btn=$(this).html(),$(".output").append("<pre><code class="language-markup"></code></pre>"),$("#xmlBtn .fa").addClass("fa-spin"),xml=loadXML(xmlpath),loadText(xmlpath),$(".note").html("Fetched successfully. Reclick to parse the data.")):"parse"==$(this).attr("data-state")?($(xml).find("student").each(function(){$(".output .data").append('<div class="panel panel-primary"><div class="panel-heading">ID: '+$(this).attr("id")+'</div><div class="panel-body"><p>Name: '+$(this).find("name").text()+"</p><p>Age: "+$(this).find("age").text()+"</p></div></div>")}),$(this).children("span").html("Parse more"),$(this).attr("data-state","more"),$(".note").html("Student's name and age are parsed. Reclick to parse more the data.")):"more"==$(this).attr("data-state")?($(xml).find("student").each(function(t){$(this).find("major").each(function(){$(".output .data .panel-body:eq("+t+")").append("<p>Major: "+$(this).text()+"</p>")}),$(this).find("results").find("result").each(function(){$(".output .data .panel-body:eq("+t+")").append("<p>Result:<br>&nbsp;&nbsp; Course: "+$(this).attr("course")+"<br>&nbsp;&nbsp; Grade: "+$(this).attr("grade")+"</p>")})}),$(this).html("Try again"),$(this).attr("data-state","end"),$(".note").html("Now each student's full details are parsed")):"end"==$(this).attr("data-state")&&($(this).html(backup.btn),$(".output").html(backup.output),$(this).attr("data-state","fetch"),$(".note").html("Click here to fetch XML"))});</script> <ul class=pager> <li class="previous"> <a href="/blog/music/2014/02/28/naruto-theme/" title="Previous Post: Naruto Theme">Previous</a> </li> <li class="next"> <a href="/blog/music/2014/03/23/let-it-go-frozen/" title="Previous Post: Disney's Frozen [Let It Go] Sequence Performed by Idina Menzel">Next</a> </li> </ul> </div> <div class=col-md-3> <div class="ads padding-5px"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3120721550776061" data-ad-slot="8584695641" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <div id="adblocker-message"> This website is made possible by displaying online advertisements to our visitors.<br> Please consider supporting by disabling your ad blocker. </div> </div> </div> </article> <div id="comments" class="container-fluid margin-bottom-10px"> <div id="disqus_thread"></div> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <a href="#" class="dsq-brlink">loading comments...</a> </div> <div id="push"></div> </div> <div id="footer" class="border-top"> <footer class="container-fluid" itemscope itemtype="http://schema.org/WPFooter"> <p class=back-to-top><a href="#body"><i class="fa fa-angle-up font-32px"></i></a></p> <p> ALL WORKS &copy; 2018 <a target="_blank" href="https://plus.google.com/108142170241252227550?rel=author" rel="author">SHIVAJI VARMA</a> &middot; <a href="/privacy">PRIVACY</a> &middot; <a href="#body">TERMS</a> &middot; <a href="/LICENSE">LICENSE</a> </p> <p class=no-margin> Based on <a target="_blank" href="http://getbootstrap.com">Bootstrap</a>. Web fonts from <a target="_blank" href="http://www.google.com/webfonts">Google</a>. View source on <a target="_blank" href="http://github.com/shivajivarma/shivajivarma.github.io">Github</a> </p> </footer> </div> <script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script> <script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js" integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U" crossorigin="anonymous"></script> <script src="https://unpkg.com/bootstrap-material-design@4.0.0-beta.4/dist/js/bootstrap-material-design.js" integrity="sha384-3xciOSDAlaXneEmyOo0ME/2grfpqzhhTcM4cE32Ce9+8DW/04AGoTACzQpphYGYe" crossorigin="anonymous"></script> <script type="text/javascript" src="/assets/bower_components/prism/prism.js"></script> <script type="text/javascript" src="/assets/bower_components/prism/components/prism-c.min.js"></script> <script type="text/javascript" src="/assets/bower_components/prism/components/prism-python.min.js"></script> <script type="text/javascript" src="/assets/bower_components/prism/components/prism-sql.min.js"></script> <script type="text/javascript" src="/assets/bower_components/prism/components/prism-java.min.js"></script> <script type="text/javascript" src="/assets/bower_components/owl-carousel/owl.carousel.min.js"></script> <script src="/assets/js/main.js"></script> <script type="text/javascript"> </script> <script type="text/javascript">var disqus_shortname="shivajivarma";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script> <script type="text/javascript">!function(e,a,n,t,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(n),s=a.getElementsByTagName(n)[0],o.async=1,o.src=t,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-42422649-1","shivajivarma.com"),ga("send","pageview");</script> </body> </html>