{"version":3,"file":"menu-item.js","sourceRoot":"","sources":["../../../../src/components/menu/menu-item/menu-item.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Event, EventEmitter, h, Host, Listen, Method, Prop, State } from '@stencil/core';\nimport { getComponentIndex } from '../../../utils/utils';\n\n\n@Component({\n  tag: 'goat-menu-item',\n  styleUrl: 'menu-item.scss',\n  shadow: true,\n})\nexport class GoatMenu {\n\n  gid: string = getComponentIndex();\n\n  private nativeInput?: HTMLElement;\n\n  private tabindex?: string | number = 1;\n\n\n  /**\n   * The menu item value.\n   */\n  @Prop({mutable: true}) value?: string | number | null;\n\n  /**\n   * If true, the user cannot interact with the button. Defaults to `false`.\n   */\n  @Prop({ reflect: true }) disabled: boolean = false;\n\n  /**\n   * Menu item selection state.\n   */\n  @Prop({ reflect: true }) selected: boolean = false;\n\n  /**\n   * Emitted when the menu item is clicked.\n   */\n  @Event({ eventName: 'goat:menu-item-click' }) goatMenuItemClick: EventEmitter;\n\n\n  @State() startSlotHasContent = false;\n  @State() endSlotHasContent = false;\n\n  /**\n   * Sets focus on the native `input` in `goat-input`. Use this method instead of the global\n   * `input.focus()`.\n   */\n  @Method()\n  async setFocus() {\n    if (this.nativeInput) {\n      this.nativeInput.focus();\n    }\n  }\n\n  /**\n   * Sets blur on the native `input` in `goat-input`. Use this method instead of the global\n   * `input.blur()`.\n   */\n  @Method()\n  async setBlur() {\n    if (this.nativeInput) {\n      this.nativeInput.blur();\n    }\n  }\n\n  @Listen('mouseup', { target: 'window' })\n  windowMouseUp() {\n    if (this.isActive)\n      this.isActive = false;\n  }\n\n  @Listen('keyup', { target: 'window' })\n  windowKeyUp(evt) {\n    if (this.isActive && (evt.key == ' '))\n      this.isActive = false;\n  }\n\n  @State() hasFocus = false;\n  @State() isActive = false;\n  @Element() elm!: HTMLElement;\n\n  private clickHandler = (event) => {\n    if (!this.disabled) {\n      this.goatMenuItemClick.emit({\n        value: this.value || this.elm.innerText\n      });\n    } else {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n  };\n\n  private blurHandler = () => {\n    this.hasFocus = false;\n  };\n\n  private focusHandler = () => {\n    this.hasFocus = true;\n  };\n\n  private mouseDownHandler = () => {\n    this.isActive = true;\n  };\n\n  private keyDownHandler = (evt) => {\n    if (evt.key == ' ') {\n      evt.preventDefault();\n      this.isActive = true;\n      this.clickHandler(evt);\n    }\n  };\n\n  componentWillLoad() {\n    // If the ion-input has a tabindex attribute we get the value\n    // and pass it down to the native input, then remove it from the\n    // goat-input to avoid causing tabbing twice on the same element\n    if (this.elm.hasAttribute('tabindex')) {\n      const tabindex = this.elm.getAttribute('tabindex');\n      this.tabindex = tabindex !== null ? tabindex : undefined;\n      this.elm.removeAttribute('tabindex');\n    }\n    this.startSlotHasContent = !!this.elm.querySelector('[slot=\"start\"]');\n    this.endSlotHasContent = !!this.elm.querySelector('[slot=\"end\"]');\n  }\n\n  render = () => {\n    return <Host active={this.isActive} has-focus={this.hasFocus}>\n      <div\n        ref={(el) => this.nativeInput = el as HTMLElement}\n        class={{\n          'menu-item': true,\n          'selected': this.selected,\n          'active': this.isActive,\n          'disabled': this.disabled,\n          'has-focus': this.hasFocus,\n          'start-slot-has-content': this.startSlotHasContent,\n          'end-slot-has-content': this.endSlotHasContent,\n        }}\n        tabindex={this.tabindex}\n        onBlur={this.blurHandler}\n        onFocus={this.focusHandler}\n        onClick={this.clickHandler}\n        onMouseDown={this.mouseDownHandler}\n        onKeyDown={this.keyDownHandler}\n        aria-disabled={this.disabled}>\n\n        <div class=\"item-section slot-start\">\n          <slot name=\"start\" />\n        </div>\n\n        <div class='item-section slot-main'>\n          <slot />\n        </div>\n\n        <div class=\"item-section slot-end\">\n          <slot name=\"end\" />\n        </div>\n\n      </div>\n    </Host>;\n  };\n\n\n}\n"]}