{"version":3,"file":"button.js","sourceRoot":"","sources":["../../../../src/components/controls/button/button.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  ComponentInterface,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Method,\n  Prop,\n  State,\n} from '@stencil/core';\nimport { ElementSize, getComponentIndex } from '../../../utils/utils';\n\n/**\n * @name Button\n * @description An interactive button with a range of presentation options.\n * @example <goat-button>\n *   Button CTA\n *   </goat-button>\n */\n@Component({\n  tag: 'goat-button',\n  styleUrl: 'button.scss',\n  shadow: true,\n})\nexport class Button implements ComponentInterface {\n\n  gid: string = getComponentIndex();\n\n  /**\n   * Button size.\n   * Possible values are `\"sm\"`, `\"md\"`, `\"lg\"`, `\"xl\"`, `\"xxl\"`. Defaults to `\"md\"`.\n   */\n  @Prop() size: 'sm' | 'md' | 'lg' | 'xl' | 'xxl' = 'md';\n\n  @Prop() variant: 'default' | 'light' | 'outline' | 'ghost' | 'link' = 'default';\n\n  /**\n   * If true, fits button width to its parent width. Defaults to `false`.\n   */\n  @Prop({ reflect: true }) block: boolean = false;\n\n\n  /**\n   * Button selection state.\n   */\n  @Prop({ reflect: true }) selected: boolean = false;\n\n  /**\n   * If true, the user cannot interact with the button. Defaults to `false`.\n   */\n  @Prop({ reflect: true }) disabled: boolean = false;\n\n  @Prop() disabledReason: string = '';\n  /**\n   * Icon which will displayed on button.\n   * Possible values are bootstrap icon names.\n   */\n  @Prop() icon: string;\n\n  /**\n   * Icon position.\n   */\n  @Prop() iconEnd: boolean = false;\n\n  /**\n   * Show loader.\n   */\n  @Prop() showLoader: boolean = false;\n\n  /**\n   * Hyperlink to navigate to on click.\n   */\n  @Prop() href: string;\n\n  @Prop({ reflect: true, mutable: true }) configAria: any = {};\n\n  /**\n   * Sets or retrieves the window or frame at which to target content.\n   */\n  @Prop() target: string = '_self';\n\n  /**\n   * On click of button, a CustomEvent 'goat:click' will be triggered.\n   */\n  @Event({ eventName: 'goat:click' }) goatClick: EventEmitter;\n\n\n  @State() hasFocus = false;\n  @State() isActive = false;\n  @State() slotHasContent = false;\n\n  @Element() elm!: HTMLElement;\n  private tabindex?: string | number;\n  private nativeInput?: HTMLButtonElement;\n\n  @Listen('mouseup', { target: 'window' })\n  windowMouseUp() {\n    if (this.isActive)\n      this.isActive = false;\n  }\n\n  @Listen('keyup', { target: 'window' })\n  windowKeyUp(evt) {\n    if (this.isActive && (evt.key == ' '))\n      this.isActive = false;\n  }\n\n  @Method()\n  async setFocus() {\n    if (this.nativeInput) {\n      this.nativeInput.focus();\n    }\n  }\n\n  @Method()\n  async triggerClick() {\n    if (this.nativeInput) {\n      this.nativeInput.click();\n    }\n  }\n\n  private getIconSize() {\n    switch (this.size) {\n      case ElementSize.SMALL:\n        return 'sm';\n      case ElementSize.LARGE:\n        return 'md';\n      case ElementSize.X_LARGE:\n        return 'md';\n      case ElementSize.XX_LARGE:\n        return 'lg';\n      default:\n        return 'sm';\n    }\n  }\n\n  private renderIcon = () => {\n    return <goat-icon name={this.icon} size={this.getIconSize()} class='icon inherit' />;\n  };\n\n  private clickHandler = (event: PointerEvent) => {\n    if (!this.disabled && !this.showLoader) {\n      if (this.href) {\n        window.open(this.href, this.target);\n      }\n      this.goatClick.emit();\n    } else {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n  };\n\n  private blurHandler = () => {\n    this.hasFocus = false;\n  };\n\n  private focusHandler = () => {\n    this.hasFocus = true;\n  };\n\n  private mouseDownHandler = () => {\n    this.isActive = true;\n  };\n\n  private keyDownHandler = (evt) => {\n    if (evt.key == ' ') {\n      this.isActive = true;\n      this.clickHandler(evt);\n    }\n  };\n\n  componentWillLoad() {\n    // If the ion-input has a tabindex attribute we get the value\n    // and pass it down to the native input, then remove it from the\n    // goat-input to avoid causing tabbing twice on the same element\n    if (this.elm.hasAttribute('tabindex')) {\n      const tabindex = this.elm.getAttribute('tabindex');\n      this.tabindex = tabindex !== null ? tabindex : undefined;\n      this.elm.removeAttribute('tabindex');\n    }\n    this.elm.getAttributeNames().forEach((name: string) => {\n      if (name.includes('aria-')) {\n        this.configAria[name] = this.elm.getAttribute(name);\n        this.elm.removeAttribute(name);\n      }\n    });\n    this.slotHasContent = this.elm.hasChildNodes();\n  }\n\n  private renderDisabledReason() {\n    if (this.disabled && this.disabledReason)\n      return <div id={`disabled-reason-${this.gid}`} role='tooltip' class='sr-only'>\n        {this.disabledReason}\n      </div>;\n  }\n\n  render() {\n\n    let NativeElementTag = 'button';\n    if (this.href) {\n      NativeElementTag = 'a';\n    }\n\n    return (<Host has-focus={this.hasFocus} active={this.isActive}>\n      <div class={{\n        button: true,\n        [`size-${this.size}`]: true,\n        block: this.block,\n        [`variant-${this.variant}`]: true,\n        'disabled': this.disabled,\n        'selected': this.selected,\n        'has-focus': this.hasFocus,\n        'active': this.isActive,\n        'has-content': this.slotHasContent,\n        'icon-end': this.iconEnd,\n        'show-loader': this.showLoader,\n      }}>\n        <div class='button-background' />\n        <NativeElementTag\n          class='native-button'\n          tabindex={this.tabindex}\n          href={this.href}\n          target={this.target}\n          ref={input => this.nativeInput = input}\n          onBlur={this.blurHandler}\n          onFocus={this.focusHandler}\n          onClick={this.clickHandler}\n          onMouseDown={this.mouseDownHandler}\n          onKeyDown={this.keyDownHandler}\n          aria-describedby={this.disabled && this.disabledReason ? `disabled-reason-${this.gid}` : null}\n          aria-disabled={(this.disabled || this.showLoader) + ''}\n          {...this.configAria}>\n\n          <div class='button-content'>\n            {this.showLoader && <goat-spinner class='spinner inherit' size={this.getIconSize()} />}\n\n            {!this.showLoader && this.icon && this.renderIcon()}\n\n            {!this.showLoader && <div class='slot-container'>\n              <slot />\n            </div>}\n          </div>\n\n        </NativeElementTag>\n        {this.renderDisabledReason()}\n      </div>\n    </Host>);\n  }\n\n}\n"]}