{"version":3,"file":"datasource.js","sourceRoot":"","sources":["../../../../src/components/content/svg/datasource.ts"],"names":[],"mappings":"AAAA,MAAM,KAAK,GAA2B,EAAE,CAAC;AAEzC,+FAA+F;AAC/F,MAAM,CAAC,KAAK,UAAU,SAAS,CAAC,GAAG;EACjC,IAAI,CAAC,GAAG;IAAE,OAAO,EAAE,CAAC;EACpB,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE;IACd,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC;GACnB;EACD,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;IAC3B,MAAM,EAAE,KAAK;IACb,IAAI,EAAE,MAAM;IACZ,WAAW,EAAE,MAAM;GACpB,CAAC,CAAC;EACH,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC;EAC9B,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC;AACpB,CAAC","sourcesContent":["const cache: Record<string, string> = {};\n\n// TODO: prevent duplicated request when rendering multiple icons with same name simultaneously\nexport async function fetchIcon(url) {\n  if (!url) return '';\n  if (cache[url]) {\n    return cache[url];\n  }\n  const res = await fetch(url, {\n    method: 'GET',\n    mode: 'cors',\n    credentials: 'omit',\n  });\n  cache[url] = await res.text();\n  return cache[url];\n}\n"]}