{"version":3,"sources":["src/components/navigation/link/link.scss?tag=goat-link&encapsulation=shadow","src/components/navigation/link/link.tsx"],"names":["linkCss","Link","[object Object]","hostRef","this","gid","getComponentIndex","hasFocus","isActive","tabindex","blurHandler","focusHandler","mouseDownHandler","keyDownHandler","evt","key","nativeInput","click","elm","hasAttribute","getAttribute","undefined","removeAttribute","itemprop","h","Host","has-focus","active","class","link","href","target","ref","input","onBlur","onFocus","onMouseDown","onKeyDown"],"mappings":"6FAAA,MAAMA,EAAU,ihDCaHC,EAAI,MALjBC,YAAAC,aAOEC,KAAAC,IAAcC,IAaLF,KAAAG,SAAW,MACXH,KAAAI,SAAW,MAGZJ,KAAAK,SAA6B,EAuB7BL,KAAAM,YAAc,KACpBN,KAAKG,SAAW,OAGVH,KAAAO,aAAe,KACrBP,KAAKG,SAAW,MAGVH,KAAAQ,iBAAmB,KACzBR,KAAKI,SAAW,MAGVJ,KAAAS,eAAkBC,IACxB,GAAIA,EAAIC,KAAO,SAAWD,EAAIC,KAAO,IAAK,CACxCX,KAAKI,SAAW,OAhCpBN,gBACE,GAAIE,KAAKI,SACPJ,KAAKI,SAAW,MAIpBN,YAAYY,GACV,GAAIV,KAAKI,WAAaM,EAAIC,KAAO,SAAWD,EAAIC,KAAO,KACrDX,KAAKI,SAAW,MAIpBN,qBACE,GAAIE,KAAKY,YAAa,CACpBZ,KAAKY,YAAYC,SAsBrBf,oBAIE,GAAIE,KAAKc,IAAIC,aAAa,YAAa,CACrC,MAAMV,EAAWL,KAAKc,IAAIE,aAAa,YACvChB,KAAKK,SAAWA,IAAa,KAAOA,EAAWY,UAC/CjB,KAAKc,IAAII,gBAAgB,YAE3B,GAAIlB,KAAKc,IAAIC,aAAa,YAAa,CACrC,MAAMV,EAAWL,KAAKc,IAAIE,aAAa,YACvChB,KAAKmB,SAAWd,IAAa,KAAOA,EAAWY,UAC/CjB,KAAKc,IAAII,gBAAgB,aAK7BpB,SAEE,OAAQsB,EAACC,EAAI,CAAAC,YAAYtB,KAAKG,SAAUoB,OAAQvB,KAAKI,UACnDgB,EAAA,IAAA,CAAGI,MAAO,CACRC,KAAQ,KACRH,YAAatB,KAAKG,SAClBoB,OAAUvB,KAAKI,UAEdsB,KAAM1B,KAAK0B,KACXC,OAAQ3B,KAAK2B,OACbR,SAAUnB,KAAKmB,SACfS,IAAKC,GAAS7B,KAAKY,YAAciB,EACjCxB,SAAUL,KAAKK,SACfyB,OAAQ9B,KAAKM,YACbyB,QAAS/B,KAAKO,aACdyB,YAAahC,KAAKQ,iBAClByB,UAAWjC,KAAKS,gBAEjBW,EAAA,OAAA","sourcesContent":["@import \"../../../globalStyles/commons\";\n\n\n:host {\n  display: inline-block;\n}\n\n.link {\n\n  border-radius: v(--border-radius);\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  cursor: pointer;\n  text-decoration: var(--link-decoration, none);\n\n  color: var(--link-color, v(--link-01));\n\n  &:hover {\n    color: var(--link-color-hover, v(--hover-primary-text));\n    text-decoration: var(--link-decoration-hover, underline);\n  }\n\n  &:visited {\n    color: var(--link-color-visited, v(--visited-link));\n  }\n\n  &.active {\n    color: var(--link-color-active, v(--text-primary));\n  }\n\n\n}\n\n:host(.no-style) .link {\n  color: inherit !important;\n  text-decoration: none !important;\n}\n\n:host(.no-decoration) .link {\n  text-decoration: none !important;\n}\n\n:host(.inline) .link {\n  text-decoration: var(--link-decoration, underline);\n}\n\n.link.has-focus:not(.active) {\n  text-decoration: none;\n  @include focus-ring();\n}\n","import { Component, ComponentInterface, Element, h, Host, Listen, Method, Prop, State } from '@stencil/core';\nimport { getComponentIndex } from '../../../utils/utils';\n\n/**\n * @name Link\n * @description Links allow users to click their way from page to page.\n * @example <goat-link>Link</goat-link>\n */\n@Component({\n  tag: 'goat-link',\n  styleUrl: 'link.scss',\n  shadow: true,\n})\nexport class Link implements ComponentInterface {\n\n  gid: string = getComponentIndex();\n\n  /**\n   * Hyperlink to navigate to on click.\n   */\n  @Prop() href: string;\n\n  /**\n   * Sets or retrieves the window or frame at which to target content.\n   */\n  @Prop() target: string;\n\n\n  @State() hasFocus = false;\n  @State() isActive = false;\n\n  @Element() elm!: HTMLElement;\n  private tabindex?: string | number = 1;\n  private itemprop?: string;\n  private nativeInput?: HTMLAnchorElement;\n\n  @Listen('mouseup', { target: 'window' })\n  windowMouseUp() {\n    if (this.isActive)\n      this.isActive = false;\n  }\n\n  @Listen('keyup', { target: 'window' })\n  windowKeyUp(evt) {\n    if (this.isActive && (evt.key == 'Enter' || evt.key == ' '))\n      this.isActive = false;\n  }\n\n  @Method()\n  async triggerClick() {\n    if (this.nativeInput) {\n      this.nativeInput.click();\n    }\n  }\n\n  private blurHandler = () => {\n    this.hasFocus = false;\n  };\n\n  private focusHandler = () => {\n    this.hasFocus = true;\n  };\n\n  private mouseDownHandler = () => {\n    this.isActive = true;\n  };\n\n  private keyDownHandler = (evt) => {\n    if (evt.key == 'Enter' || evt.key == ' ') {\n      this.isActive = true;\n    }\n  };\n\n  componentWillLoad() {\n    // If the ion-input has a tabindex attribute we get the value\n    // and pass it down to the native input, then remove it from the\n    // goat-input to avoid causing tabbing twice on the same element\n    if (this.elm.hasAttribute('tabindex')) {\n      const tabindex = this.elm.getAttribute('tabindex');\n      this.tabindex = tabindex !== null ? tabindex : undefined;\n      this.elm.removeAttribute('tabindex');\n    }\n    if (this.elm.hasAttribute('itemprop')) {\n      const tabindex = this.elm.getAttribute('itemprop');\n      this.itemprop = tabindex !== null ? tabindex : undefined;\n      this.elm.removeAttribute('itemprop');\n    }\n  }\n\n\n  render() {\n\n    return (<Host has-focus={this.hasFocus} active={this.isActive}>\n      <a class={{\n        'link': true,\n        'has-focus': this.hasFocus,\n        'active': this.isActive,\n      }}\n         href={this.href}\n         target={this.target}\n         itemprop={this.itemprop}\n         ref={input => this.nativeInput = input}\n         tabindex={this.tabindex}\n         onBlur={this.blurHandler}\n         onFocus={this.focusHandler}\n         onMouseDown={this.mouseDownHandler}\n         onKeyDown={this.keyDownHandler}>\n\n        <slot />\n\n      </a>\n    </Host>);\n  }\n\n}\n"]}